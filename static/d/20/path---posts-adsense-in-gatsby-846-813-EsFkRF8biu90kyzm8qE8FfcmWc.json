{"data":{"markdownRemark":{"frontmatter":{"title":"AdSense in Gatsby","date":"May 17th, 2019","author":"Dale","categories":["adsense","gatsby","react","javascript"],"image":{"childImageSharp":{"fluid":{"src":"/static/9960d04af5f97d5715909d067fce3df3/bc3a8/adsense-in-gatsby-LG.jpg","srcSet":"/static/9960d04af5f97d5715909d067fce3df3/d278e/adsense-in-gatsby-LG.jpg 200w,\n/static/9960d04af5f97d5715909d067fce3df3/8539d/adsense-in-gatsby-LG.jpg 400w,\n/static/9960d04af5f97d5715909d067fce3df3/bc3a8/adsense-in-gatsby-LG.jpg 800w,\n/static/9960d04af5f97d5715909d067fce3df3/81ef8/adsense-in-gatsby-LG.jpg 1200w,\n/static/9960d04af5f97d5715909d067fce3df3/f6605/adsense-in-gatsby-LG.jpg 1248w","tracedSVG":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='400' height='109'%3e%3cpath d='M0 55v54h401V0H0v55m172-37a512 512 0 0 0-21 44l11 1h10v-2c0-2 1-3 2-3v1l-1 2 1 1h9l6-1 2-5c7-13 6-16-2-16h-7c-1-1 4-13 7-17 3-5 2-6-7-6l-10 1m48 5c-5 1-12 8-12 11l11 13c11 11 11 11 14 10 4-2 10-8 11-12 0-5 0-5-8-5-6 0-6 3 0 3l4 1c0 2-6 9-8 9l-11-9-9-9 2-3c4-8 15-9 22-3 2 2 4 2 4-1 0-2-7-6-12-6-2-1-6 0-8 1m-12 21c0 4 1 5 4 8s11 7 12 6c1 0-3-5-8-9l-8-9v4' fill='%23d3d3d3' fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":3.6705882352941175,"sizes":"(max-width: 800px) 100vw, 800px"}}}},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"How to add Google AdSense and other snippets to a Gatsby markdown blog."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Gatsby has some great plugins that allow you to use markdown files for your sites content which makes it great for static blogs. Markdown is a simple way to create easy to read formatted text files, although you can write HTML in markdown it goes against the principle of making easy to read text with an optional ability to convert to more complex markup or rich text."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To be able to add AdSense or any snippet, element or react component to markdown you normally need some sort of hook, the way to to this using Gatsby is"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Install \"react-adsense\"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["dark-default-dark","vscode-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"code","properties":{"className":["vscode-highlight-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"yarn add react-adsense"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create your AdSense component adding your own client and slot keys."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["dark-default-dark","vscode-highlight"],"dataLanguage":"jsx"},"children":[{"type":"element","tagName":"code","properties":{"className":["vscode-highlight-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"React"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"'react'"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":";"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"AdSense"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"'react-adsense'"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":";"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"const"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk11"]},"children":[{"type":"text","value":"AdSense"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" = () "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"=>"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" ("}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"<"}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"AdSense.Google"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"client"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"'ca-pub-****************'"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"slot"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"'**********'"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk17"]},"children":[{"type":"text","value":"/>"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":");"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"export"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"default"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"AdSense"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Install \"rehype-react\" and if you don't already have it also \"gatsby-transformer-remark\"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["dark-default-dark","vscode-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"code","properties":{"className":["vscode-highlight-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"yarn add rehype-react gatsby-transformer-remark"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the template where you render your markup import your adsense component and rehype-react. instead of using html in the query use htmlAst"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["dark-default-dark","vscode-highlight"],"dataLanguage":"jsx"},"children":[{"type":"element","tagName":"code","properties":{"className":["vscode-highlight-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"rehypeReact"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"'rehype-react'"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"import"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"AdSense"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk15"]},"children":[{"type":"text","value":"from"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"'../components/AdSense/AdSense'"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Create a \"rehypeReact\" instance and pass the following configuration."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"className":["dark-default-dark","vscode-highlight"],"dataLanguage":"jsx"},"children":[{"type":"element","tagName":"code","properties":{"className":["vscode-highlight-code"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"const"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"renderAst"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" = "}]},{"type":"element","tagName":"span","properties":{"className":["mtk4"]},"children":[{"type":"text","value":"new"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk10"]},"children":[{"type":"text","value":"rehypeReact"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"({"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"createElement:"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"React"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"createElement"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"components:"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" {"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"    "}]},{"type":"element","tagName":"span","properties":{"className":["mtk8"]},"children":[{"type":"text","value":"'adsense'"}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":" "}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"AdSense"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"  },"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["vscode-highlight-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":"})."}]},{"type":"element","tagName":"span","properties":{"className":["mtk12"]},"children":[{"type":"text","value":"Compiler"}]},{"type":"element","tagName":"span","properties":{"className":["mtk1"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"What this does is replace any "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<adsense></adsense>"}]},{"type":"text","value":" tag in your markup file with the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"AdSense"}]},{"type":"text","value":" react component you made earlier.\nNow you may have noticed that I didn't use a self closing tag, this is because it won't work, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"you must have a closing tag!"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"style","properties":{"className":["vscode-highlight-styles"]},"children":[{"type":"text","value":":root {\n  --vscode-highlight-padding-v: 1rem;\n  --vscode-highlight-padding-h: 1.5rem;\n  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);\n  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);\n  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);\n  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);\n  --vscode-highlight-border-radius: 8px;\n\n  --vscode-highlight-line-highlighted-background-color: transparent;\n  --vscode-highlight-line-highlighted-border-width: 4px;\n  --vscode-highlight-line-highlighted-border-color: transparent;\n}\n\n.vscode-highlight {\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  padding-top: 1rem;\n  padding-top: var(--vscode-highlight-padding-top);\n  padding-bottom: 1rem;\n  padding-bottom: var(--vscode-highlight-padding-bottom);\n  border-radius: 8px;\n  border-radius: var(--vscode-highlight-border-radius);\n  font-feature-settings: normal;\n}\n\n.vscode-highlight-code {\n  display: inline-block;\n  min-width: 100%;\n}\n\n.vscode-highlight-line {\n  display: inline-block;\n  width: 100%;\n  padding-left: 1.5rem;\n  padding-left: var(--vscode-highlight-padding-left);\n  padding-right: 1.5rem;\n  padding-right: var(--vscode-highlight-padding-right);\n}\n\n.vscode-highlight-line-highlighted {\n  background-color: var(--vscode-highlight-line-highlighted-background-color);\n  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);\n}\n.dark-default-dark {\nbackground-color: #1E1E1E;\ncolor: #D4D4D4;\n}\n\n.dark-default-dark .mtk1 { color: #D4D4D4; }\n.dark-default-dark .mtk2 { color: #1E1E1E; }\n.dark-default-dark .mtk3 { color: #6A9955; }\n.dark-default-dark .mtk4 { color: #569CD6; }\n.dark-default-dark .mtk5 { color: #D16969; }\n.dark-default-dark .mtk6 { color: #D7BA7D; }\n.dark-default-dark .mtk7 { color: #B5CEA8; }\n.dark-default-dark .mtk8 { color: #CE9178; }\n.dark-default-dark .mtk9 { color: #646695; }\n.dark-default-dark .mtk10 { color: #4EC9B0; }\n.dark-default-dark .mtk11 { color: #DCDCAA; }\n.dark-default-dark .mtk12 { color: #9CDCFE; }\n.dark-default-dark .mtk13 { color: #000080; }\n.dark-default-dark .mtk14 { color: #F44747; }\n.dark-default-dark .mtk15 { color: #C586C0; }\n.dark-default-dark .mtk16 { color: #6796E6; }\n.dark-default-dark .mtk17 { color: #808080; }\n.dark-default-dark .mtki { font-style: italic; }\n.dark-default-dark .mtkb { font-weight: bold; }\n.dark-default-dark .mtku { text-decoration: underline; text-underline-position: under; }"}]}],"data":{"quirksMode":false}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"adsense-in-gatsby"}}